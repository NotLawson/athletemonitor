{
    "users": {
        "id": "integer PRIMARY KEY",
        "username": "text UNIQUE NOT NULL",
        "email": "text UNIQUE NOT NULL",
        "pname": "text NOT NULL",
        "fname": "text NOT NULL",
        "lname": "text NOT NULL",
        "groups": "text[]",
        "type": "text NOT NULL",
        "password_hash": "text",
        "password_salt": "text",
        "ftue_complete": "boolean NOT NULL DEFAULT FALSE",
        "created_at": "timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP",
        "last_login": "timestamp"
    },
    "groups": {
        "id":"integer PRIMARY KEY",
        "name":"text UNIQUE NOT NULL",
        "short":"text NOT NULL",
        "type":"text NOT NULL",
        "description":"text",
        "staff":"text[] NOT NULL",
        "students":"text[] NOT NULL DEFAULT '{}'",
        "created_at":"timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP"
    },
    "activites": {
        "id":"integer PRIMARY KEY",
        "name":"text NOT NULL",
        "type":"text NOT NULL",
        "owner":"integer references users(id) NOT NULL",
        "parent":"integer references activites(id)",
        "description":"text",
        "location":"text",
        "attachments":"integer[] references resources(id) NOT NULL DEFAULT '{}'",
        "created_at":"timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP",
        "start_time":"timestamp NOT NULL",
        "end_time":"timestamp NOT NULL"
    },
    "resources": {
        "id":"integer PRIMARY KEY",
        "filename":"text NOT NULL",
        "owner":"integer references users(id) NOT NULL",
        "upload_time":"timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP",
    },
    "schedules": {
        "id": "integer PRIMARY KEY",
        "title": "text NOT NULL",
        "owner": "integer references users(id) NOT NULL",
        "activities": "integer[] references activites(id) NOT NULL DEFAULT '{}'",
        "created_at": "timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP",
        "cron": "text NOT NULL",
        "default_name": "text NOT NULL",
        "default_type":"text NOT NULL",
        "default_parent":"integer references activites(id)",
        "default_description":"text",
        "default_location":"text",
        "default_attachments":"integer[] references resources(id) NOT NULL DEFAULT '{}'",
        "default_start_time":"timestamp NOT NULL",
        "default_end_time":"timestamp NOT NULL"
    },
    "log": {
        "id":"integer PRIMARY KEY",
        "user_id":"integer references users(id) NOT NULL",
        "type":"text NOT NULL",
        "timestamp":"timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP",
        "updated":"timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP",
        "daily_sleep_quality":"integer",
        "daily_muscle_soreness":"integer",
        "daily_mood":"text",
        "daily_stress_level":"integer",
        "injury_title":"text",
        "injury_state":"integer",
        "injury_severity":"text",
        "activity_duration_minutes":"integer",
        "activity_RPE":"integer",
        "activity_related_id":"integer references activites(id)",
        "study_duration_minutes":"integer",
        "attachments":"integer[] references resources(id) NOT NULL DEFAULT '{}'",
        "notes":"text"
    }
}