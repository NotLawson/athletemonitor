{
    "users": {
        "id": "serial PRIMARY KEY",
        "username": "text UNIQUE NOT NULL",
        "email": "text UNIQUE NOT NULL",
        "pname": "text NOT NULL",
        "fname": "text NOT NULL",
        "lname": "text NOT NULL",
        "groups": "integer[] NOT NULL DEFAULT '{}'",
        "type": "text NOT NULL",
        "password_hash": "text",
        "password_salt": "text",
        "ftue_complete": "boolean NOT NULL DEFAULT FALSE",
        "created_at": "timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP",
        "last_login": "timestamp"
    },
    "groups": {
        "id":"serial PRIMARY KEY",
        "name":"text UNIQUE NOT NULL",
        "short":"text NOT NULL",
        "type":"text NOT NULL",
        "description":"text",
        "staff":"integer[] NOT NULL DEFAULT '{}'",
        "students":"integer[] NOT NULL DEFAULT '{}'",
        "created_at":"timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP"
    },
    "resources": {
        "id":"serial PRIMARY KEY",
        "filename":"text NOT NULL",
        "owner":"integer references users(id) NOT NULL",
        "upload_time":"timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP"
    },
    "activites": {
        "id":"serial PRIMARY KEY",
        "name":"text NOT NULL",
        "type":"text NOT NULL",
        "owner":"integer references users(id) NOT NULL",
        "parent":"integer references activites(id)",
        "description":"text",
        "location":"text",
        "attachments":"integer[] NOT NULL DEFAULT '{}'",
        "created_at":"timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP",
        "start_time":"timestamp NOT NULL",
        "end_time":"timestamp NOT NULL"
    },
    "schedules": {
        "id": "serial PRIMARY KEY",
        "title": "text NOT NULL",
        "owner": "integer references users(id) NOT NULL",
        "activities": "integer[] NOT NULL DEFAULT '{}'",
        "created_at": "timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP",
        "cron": "text NOT NULL",
        "default_name": "text NOT NULL",
        "default_type":"text NOT NULL",
        "default_parent":"integer references activites(id)",
        "default_description":"text",
        "default_location":"text",
        "default_attachments":"integer[] NOT NULL DEFAULT '{}'",
        "default_start_time":"timestamp NOT NULL",
        "default_end_time":"timestamp NOT NULL"
    },
    "log": {
        "id":"serial PRIMARY KEY",
        "user_id":"integer references users(id) NOT NULL",
        "type":"text NOT NULL",
        "timestamp":"timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP",
        "updated":"timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP",
        "daily_muscle_soreness":"integer",
        "daily_mood":"text",
        "daily_stress_level":"integer",
        "injury_title":"text",
        "injury_state":"integer",
        "injury_severity":"text",
        "activity_duration_minutes":"integer",
        "activity_RPE":"integer",
        "activity_related_id":"integer references activities(id)",
        "study_duration_minutes":"integer",
        "sleep_quality":"integer",
        "sleep_duration_minutes":"integer",
        "attachments":"integer[] NOT NULL DEFAULT '{}'",
        "notes":"text"
    },
    "notifications": {
        "id":"serial PRIMARY KEY",
        "user_id":"integer references users(id) NOT NULL",
        "type":"text NOT NULL",
        "title":"text NOT NULL",
        "message":"text NOT NULL",
        "follow_uri":"text",
        "created_at":"timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP",
        "read":"boolean NOT NULL DEFAULT FALSE"
    },
    "registered_notification_channels": {
        "id":"serial PRIMARY KEY",
        "user_id":"integer references users(id) NOT NULL",
        "channel_platform":"text NOT NULL",
        "channel_identifier":"text NOT NULL",
        "created_at":"timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP"
    }
}